<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>setup - mrunner</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "setup";
    var mkdocs_page_input_path = "setup.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> mrunner</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">overview</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">setup</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#remote-context">Remote context</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../neptune/">neptune</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../slurm/">slurm</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../kubernetes/">kubernetes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../tips/">tips</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../contribution/">contribution</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">mrunner</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>setup</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>mrunner is tested on python2.7 and python3.5, but newer versions
of python3 shall also work.
Additionally we recommend to install and use mrunner in
<a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">virtualenv</a>.</p>
<ol>
<li>To install it use following commands:</li>
</ol>
<p><code>shell
   pip install neptune-cli==1.6
   pip install git+ssh://git@pascal-tower01.intra.codilime.com/ml-robotics/mrunner.git@develop</code></p>
<p>Above sequence is related with neptune
   <a href="#issue-with-requirements">issues</a>.</p>
<ol>
<li>Set some <a href="#remote-context">remote contexts</a> and select active one</li>
<li>Configure clients for at least one system:</li>
<li><a href="#slurm">slurm</a></li>
<li><a href="#kubernetes">kubernetes</a></li>
</ol>
<h3 id="remote-context">Remote context</h3>
<p>To avoid passing details on configuration of computation system, it is possible
to store predefined configuration parameters. Each configuration is named and
can be selected during experiment start or set by default:</p>
<pre><code class="commandline">mrunner run foo.py -- --param1 2    # run with context defined in current_context config key
mrunner --context plgrid.agents run foo.py -- --param1 2
mrunner --context plgrid.agents --config mrunner.yaml run foo.py -- --param1 2   # loads configuration from local file (instead of user configuration directory)
</code></pre>

<p>Set of keys depends on type of remote context. For description
of available keys go to proper sections (ex. <a href="#remote-context-keys-for-slurm">slurm</a>,
<a href="#remote-context-keys-for-kubernetes">kubernetes</a>).</p>
<p>To manage contexts use <code>context</code> command. Example calls:</p>
<pre><code class="commandline">mrunner context
mrunner context add --name gke.sandbox --backend_type kubernetes \
                    --registry_url https://gcr.io --storage /storage
                    --resources &quot;tpu=1 cpu=4&quot;
mrunner context edit gke.sandbox               # opens editor with context parameters
mrunner context set-active gke.sandbox
mrunner context delete gke.sandbox
mrunner context copy gke.sandbox gke.new
mrunner --config mrunner.yaml context set-active gke.sandbox
</code></pre>

<p>Example remote contexts':</p>
<pre><code class="yaml">name: gke.sandbox
type: kubernetes
registry_url: https://gcr.io
resources:
  cpu: 4
  tpu: 1
neptune: true
storage: /storage
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../neptune/" class="btn btn-neutral float-right" title="neptune">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../neptune/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
